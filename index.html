<!doctype>
<html>

<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <label for="comment">Paste ethereum/bitcoin addresses here</label>
          <textarea class="form-control" name="pasted_data" rows="5" id="comment"></textarea>
          <input type="button" onclick="javascript:generateTable()" value="Click to monitor Addresses" />
        </div>
      </div>

    </div>

    <div class="row">
      <div class="col-md-12">
        <div id="address_monitor"></div>
      </div>

    </div>


  </div>




</body>
<script>
  function generateTable() {
    var data = $('textarea[name=pasted_data]').val();
    console.log(data);
    var rows = data.split("\n");
    var rowsloop = '';
    var conf_balls = '';
    for (i = 0; i <= 10; i++) {
      conf_balls += '<span class="conf' + i + '">conf' + i + '</span>';
    }
    for (var y in rows) {
      var addr = rows[y].split("\t");
      for (var x in addr) {
        console.log(addr[x]);
      }

    }

    // Insert into DOM
    $('#address_monitor').empty().apend('<table data-toggle="table"><thead><tr><th>Address</th><th>Balance</th><th>Incoming</th><th>Confirmations</th></tr></thead><tbody>' + rowsloop + '</tbody></table>');
  }



  var apicall_data = {
    "jsonrpc": "2.0",
    "method": "eth_getBalance",
    "params": ["0xa38fb4fFfE602F95b3703B69D1246C7ef279dD7D", "latest"],
    "id": 1
  };

  var get_height = {
    method: "eth_blockNumber",
    params: [],
    id: 1,
    jsonrpc: "2.0"
  };

  //165.227.167.176
  $.ajax({
    type: 'POST',
    url: 'http://localhost:9001',
    data: JSON.stringify(apicall_data),
    dataType: 'json',
    cache: false,
    contentType: 'application/json',
    timeout: 15000,
    success: function(result) {
      console.log(result);
    },
    error: function(xhr, status, error) {
      console.warn(xhr.responseText)
    }
  });
</script>

</html>